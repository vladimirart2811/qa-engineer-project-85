---
- summary: |
    Успешная регистрация пользователя
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться на сайте с помощью электронного адреса
  prerequisites: |
    Открыта страница регистрации 
  test-data: |
    Nickname = TestPlayer
    Email = coyotes_sash0l@icloud.com
    Password = qwerty
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Подтверждаем пароль
    - Нажимаем кнопку "submit"
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Успешная авторизация пользователя по учетной записи Github
  requirement: |
    Пользователь должен иметь возможность авторизоваься на сайте с помощью Github
  prerequisites: |
    Пользователем был выполнен вход в свою учетную запись на Github.
  test-data: |
    Email = coyotes_sash0l@icloud.com
    Password = qwerty
  steps:
    - открыть страницу авторизации
    - Нажать на кнопку "Sign up with Github"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка регистрации пользователя с незаполненным полем Nickname
  requirement: |
   Регистрация не должна осуществляться при хотябы одном незаполненном поле
  prerequisites: |
    Открыта страница регистрации 
  test-data: |
    Email = coyotes_sash0l@icloud.com
    Password = qwerty
  steps:
    - Поле Nickname не заполняем
    - Вводим Email
    - Вводим пароль
    - Подтверждаем пароль
    - Нажимаем кнопку "Sign in"
  expected-result: |
    Регистрация не осуществляется. Появляется сообщение о необходимости заполнить поле "Nickname"

- summary: |
    Проверка регистрации пользователя с уже существующим именем
  requirement: |
    Нельзя зарегистрировать пользователя с уже существующим именем
  prerequisites: |
    Открыта страница регистрации, уже существует зарегистрированный пользователь TestPlayer
  test-data: |
    Nickname = TestPlayer
    Email = sash0l@icloud.com
    Password = qwerty
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Подтверждаем пароль
    - Нажимаем кнопку "submit"
  expected-result: |
    Должно появиться сообщение о том, что пользователь с таким именем уже существует

- summary: |
    Проверка сброса пароля
  requirement: |
    У пользователя есть возможность сбросить пароль
  prerequisites: |
    Открыта страница логина 
  test-data: |
   нет данных
  steps:
    - Нажать на кнопку "Forgot your password?"
    - Ввести Email ранее зарегистрированного пользователя
    - Нажать кнопку "submit"
    - перейти в указанную электронную почту
    - открыть письмо "Reset your password for Codebattle"
    - нажать на ссылку сброса пароля
    - ввести новый пароль 123456
    - нажать Save
    - вернуться на страницу авторизации Codebattle
    - ввести Email
    - ввести новый пароль 123456
    - нажать Submit
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка авторизации незарегистрированного пользователя
  requirement: |
    При вводе незарегистрированного email пользователь не должен быть авторизован
  prerequisites:
    Открыта страница логина
  test-data: |
    email = coyote_sash0l@icloud.com 
    Пароль = 123
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку "submit"
  expected-result: |
    Пользователь не авторизован

- summary: |
    Проверка создания игры против друга
  requirement: |
    Пользователь имеет возможность создать игру против бота, друга или любого человека
  prerequisites:
    Открыта главная страница. Выполнен вход с двух аккаунтов.
  test-data: |
    email 1 = coyote_sash0l@icloud.com
    password 1 = qwerty
    email 2 = coyotes_sash0l@icloud.com
    password 2 = qwerty
  steps:
    - Нажать кнопку создания игры
    - Выбрать уровень игры "Easy"
    - Нажать кнопку "with a friend"
    - Выбираем друга TestPlayer
    - выбрать Choose task by name or tags = "apply_discount"
    - Нажать кнопку "Create Invite" 
    - принять приглашение другим аккаунтом 
  expected-result: |
    Игра с выбранными параметрами успешно создана

- summary: |
    Проверка создания игры с ботом
  requirement: |
    пользователь при создании игры имеет возможность выбора соперника (против бота, друга или любого человека),уровня сложности игры (elementary, easy, medium, hard), лимита времени (от 3 до 60 минут), решаемой задачи
  prerequisites:
    Открыта главная страница
  test-data: |
    level = elementary
    game type = with a bot
    time control = 60 min
    task = random task
  steps:
    - Нажать кнопку создания игры
    - выбрать level "elementary"
    - выбрать game type "with a bot"
    - выбрать time control "60 min"
    - выбрать task "random task"
    - нажать "create Battle"
  expected-result: |
   Началась игра против бота

- summary: |
    Проверка наблюдения за игрой других игроков
  requirement: |
    Пользователь имеет возможность наблюдать за игрой других игроков в режиме реального времени
  prerequisites:
    Открыта главная страница на вкладке LOBBY, в списке созданных игр есть игра между двумя игроками
  test-data: |
    нет данных
  steps:
    - Нажать кнопку "show"
  expected-result: |
    Пользователь должен попасть на страницу выбранной игры и наблюдать за ходом игры

- summary: |
    Проверка наблюдения за изменением кода своего соперника
  requirement: |
    Каждый игрок видит код своего соперника в режиме он-лайн
  prerequisites:
   Пользователь находится в игре против своего второго аккаунта
  test-data: |
    нет данных
  steps:
    - начать вводить код в игровом поле с первого аккаунта
    - начать вводить код в огровом поле со второго аккаунта
  expected-result: |
    Код в поле соперника у каждого игрока меняется в режиме реального времени

- summary: |
    Проверка просмотра зевершенных игр
  requirement: |
    Пользователь имеет возможность просматривать завершенные игры в записи
  prerequisites:
    Открыта главная страница 
  test-data: |
    нет данных
  steps:
    - Нажать на вкладку "Completed games"
    - Нажать на кнопку "show" любой игры
  expected-result: |
    Открывается запись завершенной игры. Редактор для ввода кода выглядит как проигрыватель

- summary: |
    Проверка смены языка задачи
  requirement: |
   Задача в игровом режиме может отображаться на двух языках - русском и английском
  prerequisites:
    Пользователь находится в созданной игре, задача отображается на английском языке
  test-data: |
    нет данных
  steps:
    - Нажать на кнопку смены языка
    - выбрать русский язык
  expected-result: |
   Задача должна отобразиться на русском языке

- summary: |
    Проверка отображения оставшегося времени
  requirement: |
   При возвращении в игру отображается оставшееся время до конца игры
  prerequisites:
    Открыта главная страница
  test-data: |
   Level = elementary
   Game Type = with a bot
   Time control = 10 min
   Choose task by name or tags = random task
  steps:
    - Нажать кнопку "Create a game"
    - Выбрать заданные параметры игры
    - Нажать на кнопку "Create battle"
    - В игровом режиме нажать "Back to home"
    - На главной странице нажать "Continue"
  expected-result: |
   Игрок сразу видит оставшееся до конца игры время

- summary: |
    Проверка создания игры при наличии незавершенной ранее созданной игры
  requirement: |
   Пользователь не может создать игру если предыдущая созданная им игра не завершена
  prerequisites:
    Открыта главная страница на вкладке LOBBY, есть ранее созданная игра
  test-data: |
    нет данных
  steps:
    - Нажать на кнопку "Create a game"
    - Нажать "Create Battle"
  expected-result: |
   Новая игра не создана  

- summary: |
    Проверка общения в чате
  requirement: |
   В игре есть чат, в котором могут общаться зарегистрированные пользователи
  prerequisites:
    Открыта главная страница
  test-data: |
    нет данных
  steps:
    - Ввести в окно ввода текста чата любое сообщение
    - Нажать кнопку "Send"
  expected-result: |
   Сообщение отправлено и отображается в окне чата

- summary: |
    Проверка создания турнира
  requirement: |
   Пользователь имеет возможность создавать турниры
  prerequisites:
    Открыта главная страница на вкладке Tournaments
  test-data: |
   type = team
   Access Type = public
   Task strategy = round
   Task provider = level
   Level = elementary
   Players limit = 64
   Default language = js
  steps:
    - Нажать на кнопку создания игры
    - заполнить форму создания игры тестовыми данными
    - нажать кнопку Create
  expected-result: |
   Пользователь должен попасть на страницу созданного турнира

- summary: |
    Проверка участия в турнире
  requirement: |
   Пользователь может участвовать в турнирах
  prerequisites:
    Открыта главная страница на вкладке Tournaments, есть активный турнир
  test-data: |
   нет данных
  steps:
    - Нажать на кнопку Show активного турнира
    - нажать кнопку Join
  expected-result: |
   Пользователь должен присоединиться к турниру, его имя должно появиться в списке участников 

- summary: |
    Проверка правильности решения
  requirement: |
   Игрок может проверить правильность своего решения
  prerequisites:
   Пользователь находится в режиме игры с ботом по поиску площади прямоугольника
  test-data: |
   язык = Node.js
   code = const _ = require("lodash");
          const R = require("rambda");

          const solution = (width, length) => {
            return width * length;
          };

          module.exports = solution;
  steps:
    - ввести в окно написания кода решение
    - нажать кнопку Check solution
  expected-result: |
   Отображается окно с информацией о победе игрока

- summary: |
    Проверка неправильного решения
  requirement: |
   Игрок может проверить правильность своего решения
  prerequisites:
   Пользователь находится в режиме игры с ботом по поиску площади прямоугольника
  test-data: |
   язык = Node.js
   code = const _ = require("lodash");
          const = require("rambda");

          const solution = (width, length) => {
            return width * length;
          };

          module.exports = solution;
  steps:
    - ввести в окно написания кода решение
    - нажать кнопку Check solution
  expected-result: |
   Во вкладке OUTPUT отображается информация о проваленных тестах

- summary: |
    Проверка функции сдаться
  requirement: |
    Игрок может сдаться и завершить игру в любой момент
  prerequisites:
   Пользователь находится в режиме игры
  test-data: |
   нет данных
  steps:
    - нажать на кнопку Give up
  expected-result: |
   Отображается сообщение о проигрыше сдавшегося игрока

- summary: |
    Проверка отображения вкладок на главной странице
  requirement: |
   На главной странице отображаются вкладки LOBBY, TOURNAMENTS, COMPLETED GAMES
  prerequisites:
   Имеется зарегистррированная учетная запись
  test-data: |
   нет данных
  steps:
    - войти в учетную запись пользователя
  expected-result: |
   Пользователь должен попасть на главную страницу, на которой отображаются вкладки LOBBY, TOURNAMENTS, COMPLETED GAMES

- summary: |
    Проверка отображения текущих игр
  requirement: |
   Во вкладке LOBBY отображаются текущие игры
  prerequisites:
   Открыта главная страница сайта. Имеются активные игры
  test-data: |
   нет данных
  steps:
    - нажать на вкладку LOBBY
  expected-result: |
   На странице отображаются активные на текущий момент игры

- summary: |
    Проверка отображения турниров
  requirement: |
   Во вкладке TOURNAMENTS отображаются активные и завершенные турниры
  prerequisites:
   Открыта главная страница сайта. Имеются активные турниры
  test-data: |
   нет данных
  steps:
    - нажать на вкладку TOURNAMENTS
  expected-result: |
   На странице отображаются активные и завершенные турниры 

- summary: |
    Проверка отображения завершенных игр
  requirement: |
   Во вкладке COMPLETED GAMES отображаются завершенные игры
  prerequisites:
   Открыта главная страница сайта.
  test-data: |
   нет данных
  steps:
    - нажать на вкладку COMPLETED GAMES
  expected-result: |
   На странице отображаются завершенные игры

- summary: |
    Проверка отображения информации о пользователе
  requirement: |
   В профиле пользователя отображается информация о его рейтинге, завершенных играх, активность в игре
  prerequisites:
   Открыта главная страница сайта.
  test-data: |
   нет данных
  steps:
    - нажать на кнопку с Username пользователя
    - нажать кнопку My profile
  expected-result: |
   Отображается страница с информацией о рейтинге пользователя, баллах рейтинга, количестве завершенных игр, календарь активности

- summary: |
    Проверка просмотра рейтинга игроков
  requirement: |
   Пользователь имеет возможность просматривать рейтинг игроков за неделю, месяц и за все время
  prerequisites:
   Открыта главная страница сайта.
  test-data: |
   нет данных
  steps:
    - нажать на кнопку с Username пользователя
    - нажать кнопку Users rating
    - нажать на кнопку weekly
  expected-result: |
   Отображается недельный список игроков по рейтингу

  
